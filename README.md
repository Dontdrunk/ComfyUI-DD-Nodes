# ComfyUI-DD-Nodes

一个全流程 AI 开发的 ComfyUI 自定义节点集合（完全汉化），由 Dontdrunk 开发维护。

## 当前节点列表

<details>
  <summary>DD 模型优化加载+DD 采样优化器</summary>

高性能的模型加载优化器，支持智能加载和多种优化模式：
- 支持标准加载和分步加载两种方式
- 内置智能模式（针对模型大小与电脑配置自动选择最佳加载方案）
- 支持所有通过UNET节点进行加载的模型

模型首次采样速度优化器，消除首次采样延迟：
- 实时优化进度与指标反馈
- 显著减少首次采样的延迟

![2131](https://github.com/user-attachments/assets/85c3f36b-f51a-4651-b4f7-9ff0d9f78170)

</details>

<details>
  <summary>DD 图片转视频帧</summary>

高效的图片转视频帧转换器：
- 支持自定义时长（0.1-300秒）和帧率（1-120 FPS）
- 内存优化的批处理机制
- 实时进度反馈以及详细的性能指标输出

![微信截图_20250217231533](https://github.com/user-attachments/assets/66c05a9c-c33b-4813-b434-d3c5928067c5)

</details>

<details>
  <summary>DD 高级融合</summary>

强大的图像和视频融合处理器：
- 支持单线融合和多边形融合两种模式
- 灵活的角度和比例控制
- 可调节的边缘模糊效果
- 多边形边数自定义（3-12边）
- 智能尺寸适配（自适应/拉伸/裁剪/填充）
- 视频帧数适配（较短/较长/平均）
- 支持图片与视频混合处理

![QQ2025220-185810-HD 00_00_00-00_00_30](https://github.com/user-attachments/assets/2a50614f-1911-4fd8-bc2e-8d2bece91e73)

</details>

<details>
  <summary>DD 颜色背景生成器</summary>

高级颜色背景生成器，支持多种颜色模式和图层控制：
- 支持 HEX/RGB/HSL/HSV/CMYK 颜色模式
- 完整的 RGBA 通道控制
- 智能图层混合系统（支持设置图层顺序）
- 遮罩混合功能（支持局部颜色替换）
- 自适应输入图片尺寸
- 颜色选择器和手动参数输入
- 分离的 RGBA 通道输出
  
![123213](https://github.com/user-attachments/assets/141b1585-0d02-47f1-9d51-2d12eccc6403)

</details>

<details>
  <summary>DD 尺寸计算器+DD 极简Latent</summary>

简单的图像尺寸计算器：
- 输入宽度和高度
- 输出宽度、高度和总像素数

简单的 Latent 空间生成器：
- 支持自定义宽度和高度
- 自动调整为 8 的倍数
- 生成空白 Latent 用于后续处理

![123](https://github.com/user-attachments/assets/dca647bf-1c8f-4947-ad14-c7ad00e98d10)

</details>

<details>
  <summary>DD 图像统一尺寸+DD 遮罩统一尺寸</summary>

多功能图像和视频尺寸统一处理器：
- 5种专业缩放算法（邻近-精确、双线性插值、区域、双三次插值、lanczos）
- 4种智能尺寸适配模式（自适应、拉伸、裁剪、填充）
- 支持批量处理多个图像或视频源
- 支持图像和视频混合输入
- 完全保留图像质量和透明通道

专业遮罩尺寸统一处理器：
- 5种专业缩放算法，默认为"邻近-精确"以保持遮罩边缘
- 4种智能尺寸适配模式（自适应、拉伸、裁剪、填充）
- 支持批量处理多个遮罩输入
- 可选的阈值处理功能，确保遮罩二值化
- 优化的内存使用，支持大批量处理

![2](https://github.com/user-attachments/assets/58629a1d-f331-4fd6-aabe-de7158d6fdda)

</details>

<details>
  <summary>DD 限制图像大小</summary>

智能图像尺寸限制器，确保图像在指定的最大和最小尺寸范围内：
- 自动检测和调整超出尺寸限制的图像和遮罩
- 完全保持原始宽高比
- 支持5种专业缩放算法
- 同时处理图像和对应的遮罩
- 输出原始尺寸和调整后的尺寸信息
- 自动将尺寸调整为8的倍数，兼容AI模型要求
- 条件切换器：根据条件自动选择不同分支进行处理

![3](https://github.com/user-attachments/assets/d2fac125-fad3-4f51-9b91-39d0be4c7753)

</details>

<details>
  <summary>DD 切换器系列节点</summary>

功能强大的条件切换和资源管理节点：
- 条件切换器：根据条件自动选择不同分支进行处理
- 支持多种切换条件和触发模式
- 简化工作流程，提高处理灵活性

![2](https://github.com/user-attachments/assets/54690c0c-3627-4970-9bc0-ef58ca4be2f7)


</details>

<details>
  <summary>DD 对齐工具</summary>

基于[ComfyUI-Align](https://github.com/Moooonet/ComfyUI-Align)项目优化的图像对齐工具：
- 支持快捷键快速调出对齐界面
- 完整的节点对齐与分布功能（左、右、上、下、中心对齐）
- 节点大小调整功能（水平、垂直拉伸）
- 丰富的节点颜色设置选项（包括固定颜色和随机颜色）
- 直观的图标展示系统，便于操作
- 支持节点固定、静音、旁路等操作
- 可自定义的快捷键和间距设置

![1](https://github.com/user-attachments/assets/2012dba6-82d3-4f09-be6e-b10175a3b478)

</details>

## 安装

1. 将文件复制到 ComfyUI 的 custom_nodes 目录
2. 安装依赖：`pip install -r requirements.txt`
3. 重启 ComfyUI

## 版本历史
- v1.8.0（2025-04-22）
  - 添加DD对齐工具，基于[ComfyUI-Align](https://github.com/Moooonet/ComfyUI-Align)项目
  - 增加随机颜色功能，可以让节点更加花里胡哨
  - 优化图标展示，提升用户体验
  - 保留原有的精确对齐功能
- v1.7.0（2025-04-21）
  - 添加遮罩统一尺寸节点
  - 支持多种缩放算法和适配模式
  - 增加遮罩专用的阈值处理功能
  - 添加限制图像大小节点
  - 支持最大/最小尺寸限制
  - 保持宽高比的自动调整功能
  - 支持同时处理图像和对应遮罩
  - 添加切换器系列节点（条件切换器、Latent切换器、模型切换器）
  - 实现基于条件的自动化工作流程切换
  - 优化资源管理，提高处理灵活性
- v1.6.0（2025-03-05）
  - 添加图像统一尺寸节点
  - 支持多端口动态调整
  - 支持多种缩放算法和尺寸适配模式
- v1.5.0（2025-03-02）
  - 添加空Latent视频(Wan2.1)【该节点已经删除！！】
- v1.4.0（2025-03-01）
  - 添加采样优化器节点
  - 实现首次采样延迟消除
  - 优化CLIP文本编码预热
- v1.3.0（2025-02-21）
  - 添加模型优化加载节点
  - 支持智能模式自动优化
  - 支持多种 FP8 优化模式
  - 优化 FLUX 模型加载
  - 改进内存管理
- v1.2.0（2025-02-20）
  - 添加高级融合节点
  - 支持图片和视频的混合处理
  - 添加多种融合模式和适配选项
  - 添加极简Latent节点
  - 优化内存使用和性能
- v1.1.0（2025-02-19）
  - 优化颜色背景生成器节点
  - 添加图层控制功能
  - 改进遮罩混合系统
  - 优化内存使用
- v1.0.0（2025-02-17）
  - 初始发布
  - 添加颜色背景生成器节点
  - 添加尺寸计算器节点
  - 添加图片转视频帧节点
  - 完整中文界面支持
  - 实现内存优化和性能监控功能

## 后续计划

- 添加更多图像处理节点
- 添加更多视频处理节点
- 添加工作流辅助节点
- 持续优化现有节点的性能和功能

## 反馈与建议

这是一个持续成长的节点集合，主要用于分享实用的 ComfyUI 扩展工具。欢迎通过 Issues 提供建议和反馈。如果您发现任何问题或有任何改进建议，请随时提出。

## 许可证

GPL-3.0 license

1. 听说项目的成长需要Money来维持 
2. 不打赏的话，作者可能会：
   - 🦥 躺平摆烂
   - 😴 睡大觉
   - 🎮 玩游戏去了

您的支持就是作者继续咕咕咕的动力！╭(●｀∀´●)╯
![收款码](https://github.com/user-attachments/assets/77c99c94-3854-4c12-81cf-09c9f76099ac)

