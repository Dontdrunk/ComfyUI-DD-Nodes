# ComfyUI-DD-Nodes

<div align="right">
  <b>中文</b> | <a href="https://github.com/Dontdrunk/ComfyUI-DD-Nodes/blob/main/README-EN.md">English</a>
</div>

## 🚀 项目简介

**ComfyUI-DD-Nodes** 是一个专业的 ComfyUI 自定义节点集合，专注于提升 AI 图像生成工作流的效率和用户体验。本项目采用全流程 AI 开发模式，提供完全汉化的界面和丰富的功能模块，旨在为中文用户打造最佳的 ComfyUI 扩展体验。

### ✨ 核心特色

- **🎯 专业工具集**：涵盖提示词管理、模型优化、图像处理、界面美化等核心功能
- **🌏 完全汉化**：支持 ComfyUI 原生国际化系统，中英文无缝切换
- **⚡ 性能优化**：智能模型加载、采样优化、动画性能调优等多重优化
- **🎨 界面美化**：主题系统、连线动画、布局工具等视觉增强功能
- **🔧 易于使用**：简洁直观的操作界面，降低学习成本
- **📈 持续更新**：活跃的开发维护，快速响应用户需求

## 📋 节点功能一览

| 节点名称 | 功能描述 | 图片说明 |
|---------|---------|---------|
| **DD 模型优化加载** | 高性能的模型加载优化器，支持智能加载和多种优化模式。内置智能模式可根据模型大小与电脑配置自动选择最佳加载方案，支持所有通过UNET节点进行加载的模型 | ![模型优化加载界面](https://github.com/user-attachments/assets/85c3f36b-f51a-4651-b4f7-9ff0d9f78170) |
| **DD 采样优化器** | 模型首次采样速度优化器，有效消除首次采样延迟，提升工作流响应速度和用户体验 | 与模型优化加载共用界面 |
| **DD 图片转视频帧** | 高效的图片转视频帧转换器，支持批量处理和多种输出格式，为视频生成工作流提供便利 | ![图片转视频帧界面](https://github.com/user-attachments/assets/66c05a9c-c33b-4813-b434-d3c5928067c5) |
| **DD 高级融合** | 强大的图像和视频融合处理器，支持多种融合算法和参数调节，实现专业级的图像合成效果 | ![高级融合效果展示](https://github.com/user-attachments/assets/2a50614f-1911-4fd8-bc2e-8d2bece91e73) |
| **DD 颜色背景生成器** | 高级颜色背景生成器，支持多种颜色模式、渐变效果和图层控制，为图像创作提供丰富的背景选择 | ![颜色背景生成器界面](https://github.com/user-attachments/assets/141b1585-0d02-47f1-9d51-2d12eccc6403) |
| **DD 尺寸计算器** | 极简的图像尺寸计算器，提供精确的尺寸计算和比例调整功能，确保输出图像符合预期规格 | ![尺寸计算器界面](https://github.com/user-attachments/assets/dca647bf-1c8f-4947-ad14-c7ad00e98d10) |
| **DD 极简Latent** | 简化的Latent空间生成器，提供快速便捷的潜在空间创建功能，优化工作流节点连接 | 与尺寸计算器共用界面 |
| **DD 图像统一尺寸** | 多功能图像和视频尺寸统一处理器，支持批量处理和智能缩放，确保输出内容尺寸一致性 | ![图像统一尺寸界面](https://github.com/user-attachments/assets/58629a1d-f331-4fd6-aabe-de7158d6fdda) |
| **DD 遮罩统一尺寸** | 专业的遮罩尺寸统一工具，与图像处理完美配合，确保遮罩与目标图像尺寸匹配 | 与图像统一尺寸共用界面 |
| **DD 限制图像大小** | 智能图像尺寸限制器，确保图像在指定的最大和最小尺寸范围内，防止内存溢出和性能问题 | ![限制图像大小界面](https://github.com/user-attachments/assets/d2fac125-fad3-4f51-9b91-39d0be4c7753) |
| **DD 切换器系列** | 包含条件切换器、Latent切换器、模型切换器等多种切换节点，简化工作流程，提高处理灵活性 | ![切换器系列界面](https://github.com/user-attachments/assets/54690c0c-3627-4970-9bc0-ef58ca4be2f7) |

## 🎯 扩展功能一览

| 功能名称 | 功能描述 | 图片说明 |
|---------|---------|---------|
| **DD 提示词管理器** | 智能提示词嵌入和管理系统，为所有 CLIP 文本编码器节点提供强大的提示词管理功能。支持提示词搜索、标签分类、导入导出、实时同步等功能，大幅提升工作流创作效率 | ![提示词管理器界面](https://github.com/user-attachments/assets/8a751d5a-980d-48d6-898d-fb8a016920fc) |
| **DD 界面布局** | 智能节点布局工具，支持随机或指定节点标题颜色，提供节点对齐、尺寸同步等功能。内置主题系统，每种主题提供两种不同风格，点击硬币动画即可切换 | ![界面布局效果](https://github.com/user-attachments/assets/e79cfa00-9243-41bb-98e3-e9c67e104419) |
| **DD 节点连线动画** | 为 ComfyUI 节点连线提供多种炫酷动画效果，支持"流动"、"波浪"、"律动"、"脉冲"等动画风格。动画参数可自定义（线宽、速度、特效等），并提供智能性能优化 | ![连线动画效果](https://github.com/user-attachments/assets/aeac1b96-c8d0-497a-9594-1ab7b5766f44) |

## 🔧 安装方法

### 方法一：手动安装
1. 将文件复制到 ComfyUI 的 `custom_nodes` 目录
2. 安装依赖：`pip install -r requirements.txt`
3. 重启 ComfyUI

### 方法二：Manager安装（推荐）
1. 使用 ComfyUI Manager 或启动器通过 git 进行安装
2. 或直接在 Manager 中搜索 "ComfyUI-DD-Nodes" 安装

## 🌐 语言切换

本扩展现已支持 ComfyUI 原生国际化（i18n）系统，可在中英文间无缝切换：

1. **切换语言**：在 ComfyUI 界面右上角设置菜单中选择语言选项
2. **选择语言**：支持中文（zh）和英文（en）
3. **功能范围**：目前支持节点翻译，前端功能翻译正在开发中

## 📈 版本历史

### 最新版本
- **v2.6.0**（2025-07-06）
  - 🔧 尝试修复界面布局面板的多系统兼容性BUG
  - ➕ 添加了视频首尾帧输出节点

### 重要更新
- **v2.5.1**（2025-07-02）
  - 🎯 提示词管理面板完美嵌入大部分官方CLIP节点与第三方CLIP节点
  - 🔗 完美兼容 ComfyUI-Easy-Use 与 ComfyUI-Fast-Use
  - 🐛 修复了部分已知问题

- **v2.5.0**（2025-06-23）
  - 🎨 提示词管理面板UI和交互完全重构
  - 🏷️ 标签颜色可随意设置，支持批量编辑
  - 🔍 搜索功能升级，支持标签+文字双重搜索
  - 💾 数据实时同步本地文件，告别浏览器缓存
  - 📤 导出功能包含完整数据（提示词+标签）

- **v2.4.0**（2025-06-20）
  - 🔄 **提示词管理器新功能**：
    - 智能备份功能，所有提示词操作自动保存到插件的extensions\Prompt_Manager\prompts.json文件中
    - 新增标签功能，现在可以给每个提示词添加最多4个标签，以便对提示词进行分类和快速查找

- **v2.3.0**（2025-06-18）
  - 🎉 **新增提示词管理器（Prompt Manager）**：
    - 为所有 CLIP 文本编码器节点添加智能提示词嵌入功能
    - 支持提示词的增删改查，提供现代化的管理界面
    - 支持导入导出 JSON 格式的提示词文件
    - 支持搜索提示词名称和提示词内容，快速查找定位提示词
  - ⚡ **Online Animation 性能优化与功能优化**：
    - 添加动画视觉选项，可以选择连线显示效果，有"全部显示"和"悬停节点"两种模式
    - 改进智能帧率控制：根据连线数量动态调整重绘频率，在悬停模式下的FPS基本与原生性能无异

- **v2.2.1**（2025-05-27）
  - 完善界面UI添加主题选项，修复BUG

- **v2.2.0**（2025-05-14）
  - 界面布局Alpha2.0版本上线，完善界面和添加基本工具
  - 现在可以同步选中节点的宽高与大小，对齐所有的选中节点

- **v2.1.0**（2025-05-13）
  - 添加对 ComfyUI 原生国际化（i18n）系统的支持
  - 现在可以无缝切换中文和英文界面
  - 所有节点名称、描述、参数和输出均支持双语

<details>
<summary>点击查看更多历史版本</summary>

- **v2.0.2**（2025-05-12）
  - 进一步提升动画性能与效果并修复部分动画的路径BUG

- **v2.0.1**（2025-05-08）
  - 修复了连线动画与cg-use-everywhere插件的兼容性问题
  - 修复了智能布局功能的一个严重BUG

- **v2.0.0**（2025-05-08）
  - 将连线动画效果做了模块化拆分，将动画效果抽离，方便日后维护
  - 优化动画性能与算法，添加了可自主设置动画采样强度的设置选项
  - 【新功能！】实现了界面布局功能的Alpha版本

- **v1.9.1**（2025-05-05~06）
  - 永久移除节点对齐的功能实现和所有代码
  - 【已将项目修改为MIT协议，完全开源】

- **v1.9.0**（2025-05-04）
  - 新增"电路板1""电路板2"两种前端连线风格
  - 电路板1：经典L型/折线路径，兼容任意节点布局，动画与特效全兼容
  - 电路板2：支持递归避障，优先90/45度连线，自动智能绕障碍节点

- **v1.8.0**（2025-05-03）
  - 添加了一套完整的前端连线动画

- **v1.6.0**（2025-04-21）
  - 添加遮罩统一尺寸节点
  - 添加限制图像大小节点
  - 添加切换器系列节点（条件切换器、Latent切换器、模型切换器）

- **v1.5.0**（2025-03-05）
  - 添加图像统一尺寸节点

- **v1.3.0**（2025-03-01）
  - 添加采样优化器节点用于，实现首次采样延迟消除，优化CLIP文本编码预热

- **v1.2.0**（2025-02-21）
  - 添加模型优化加载节点，自动优化UNET模型

- **v1.1.0**（2025-02-20）
  - 添加高级融合节点，支持图片和视频的混合处理
  - 添加极简Latent节点

- **v1.0.1**（2025-02-19）
  - 优化颜色背景生成器节点
  - 添加图层控制功能
  - 改进遮罩混合系统

- **v1.0.0**（2025-02-17）
  - 初始发布
  - 添加颜色背景生成器节点
  - 添加尺寸计算器节点
  - 添加图片转视频帧节点
  - 完整中文界面支持

</details>

## 🚀 后续计划

- 🖼️ 添加更多图像处理节点
- 🎬 扩展视频处理功能
- 🔧 开发工作流辅助工具
- ⚡ 持续优化现有节点性能

## 💬 反馈与建议

这是一个持续成长的专业节点集合，致力于为 ComfyUI 用户提供最实用的扩展工具。我们欢迎通过 Issues 提供建议和反馈，您的每一个建议都将推动项目的发展。

## 📄 许可证
- MIT 授权协议

## ☕ 支持作者

如果这个项目对您有帮助，欢迎支持作者继续开发：

1. 听说项目的成长需要 Money 来维持 💰
2. 不打赏的话，作者可能会：
   - 🦥 躺平摆烂
   - 😴 睡大觉
   - 🎮 玩游戏去了

您的支持就是作者继续咕咕咕的动力！╭(●｀∀´●)╯

![收款码](https://github.com/user-attachments/assets/77c99c94-3854-4c12-81cf-09c9f76099ac)
