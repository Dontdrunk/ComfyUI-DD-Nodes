class DDModelSwitcher:
    """
    DD цибхЮЛхИЗцНв - хЬихдЪф╕кцибхЮЛш╛УхЕеф╣ЛщЧ┤щАЙцЛйф╕Аф╕кф╜Ьф╕║ш╛УхЗ║
    цФпцМБцЬАхдЪ4ф╕кцибхЮЛш╛УхЕея╝МхПпф╗ещАЪш┐ЗщАЙцЛйхЩицМЗхоЪш╛УхЗ║хУкф╕Аф╕кцибхЮЛ
    """

    @classmethod
    def INPUT_TYPES(cls):
        return {
            "required": {
                "цибхЮЛ1": ("MODEL",),
                "цибхЮЛ2": ("MODEL",),
                "щАЙцЛйш╛УхЗ║": ("INT", {"default": 1, "min": 1, "max": 4, "step": 1}),
            },
            "optional": {
                "цибхЮЛ3": ("MODEL",),
                "цибхЮЛ4": ("MODEL",),
            }
        }

    RETURN_TYPES = ("MODEL",)
    RETURN_NAMES = ("цибхЮЛ",)
    FUNCTION = "switch_model"
    CATEGORY = "ЁЯН║DDч│╗хИЧшКВчВ╣"

    def switch_model(self, цибхЮЛ1, цибхЮЛ2, щАЙцЛйш╛УхЗ║, цибхЮЛ3=None, цибхЮЛ4=None):
        """
        хЬихдЪф╕кцибхЮЛф╣ЛщЧ┤хИЗцНвя╝Мца╣цНощАЙцЛйш╛УхЗ║цМЗхоЪчЪДцХ░хнЧш┐ФхЫЮхп╣х║ФчЪДцибхЮЛ
        
        Args:
            цибхЮЛ1-4: ш╛УхЕечЪДцибхЮЛ
            щАЙцЛйш╛УхЗ║: щАЙцЛйш╛УхЗ║чммхЗаф╕кцибхЮЛя╝И1-4я╝Й
            
        Returns:
            щАЙхоЪчЪДцибхЮЛ
        """
        # хИЫх╗║цибхЮЛхИЧшби
        цибхЮЛхИЧшби = [цибхЮЛ1, цибхЮЛ2, цибхЮЛ3, цибхЮЛ4]
        
        # чбохоЪшжБш╛УхЗ║чЪДцибхЮЛч┤вх╝Х
        щАЙцЛйч┤вх╝Х = int(щАЙцЛйш╛УхЗ║) - 1  # ш╜мцНвф╕║0-3чЪДч┤вх╝Х
        
        # цгАцЯецЙАщАЙч┤вх╝ХхдДцШпхРжцЬЙцибхЮЛ
        if щАЙцЛйч┤вх╝Х > 1 and цибхЮЛхИЧшби[щАЙцЛйч┤вх╝Х] is None:
            print(f"[цибхЮЛхИЗцНв] шнжхСКя╝ЪцибхЮЛ{щАЙцЛйч┤вх╝Х+1}ф╕НхнШхЬия╝Мщ╗Шшодф╜┐чФицибхЮЛ1")
            щАЙцЛйч┤вх╝Х = 0
        
        # шО╖хПЦшжБш╛УхЗ║чЪДцибхЮЛ
        ш╛УхЗ║цибхЮЛ = цибхЮЛхИЧшби[щАЙцЛйч┤вх╝Х]
        
        print(f"[цибхЮЛхИЗцНв] х╖▓щАЙцЛйш╛УхЗ║цибхЮЛ{щАЙцЛйч┤вх╝Х+1}")
        
        return (ш╛УхЗ║цибхЮЛ,)

# шКВчВ╣ч▒╗цШах░Д
NODE_CLASS_MAPPINGS = {
    "DD-ModelSwitcher": DDModelSwitcher
}

# шКВчВ╣цШ╛чд║хРНчз░цШах░Д
NODE_DISPLAY_NAME_MAPPINGS = {
    "DD-ModelSwitcher": "DD Model Switcher"
}